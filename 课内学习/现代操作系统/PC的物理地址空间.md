## PC的物理地址空间

从0x00000000开始，以0x000FFFFF结束，总共大小1MB，

### BIOS基本输入输出系统

BIOS占据从0x000F0000到0x000FFFFF的64KB区域。

IBM PC最开始从物理地址0xffff0开始执行，第一个指令是跳转指令，跳转到更前面一点。

实模式寻址：物理地址=16*分段+偏移量

在初始化PCI总线和BIOS知道的所有重要设备后，它会搜索可启动设备，例如软盘、硬盘驱动器或CD-ROM。最终从磁盘中读取boot-loader并将控制权转移给它

### The Boot Loader

当 BIOS 找到可启动软盘或硬盘时，它会将 512 字节的引导扇区加载到物理地址的内存中，0x7c00 到 0x7dff，然后使用 `jmp` 指令将 CS：IP 设置为 `0000:7c00` ，将控制权传递给引导加载程序。

Boot loader由一个汇编语言源文件boot.S和一个C源文件组成。

boot.S的作用：引导系统从实模式切换到保护模式，设置好段寄存器和栈指针，然后跳转到C语言的bootmain函数

C源文件的作用：从硬盘加载一个ELF格式的内核镜像并且启动它

