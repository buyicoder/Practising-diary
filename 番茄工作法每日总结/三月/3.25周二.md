七点半起床，七点五十五到图书馆。

上午操作系统可以不用去。

下午第一节课是体育课，第二节课是人机交互，去一下。中午不回宿舍。或者快上课的时候回去换个衣服。

这样上午能有八个番茄，下午能有六个番茄，加一个总结今天就齐了。

上午八个番茄看能不能写完lab2。

两个番茄写完2.5

三个写完2.6

一个写完2.7

两个写完2.8

看起来有点难，不过先这样预估吧。

今天没有写完操作系统， 但是写完了2.5。

目前完成了13个番茄。这是第14个。

本来是要刷一下蓝桥杯的。

但是没有登录。刷不了了。

今天主要是把lab2过了一部分，已经很好了，现在操作系统慢慢在我脑子里有个模样了。

中午又是回宿舍打游戏了。然后还没睡着。

把体育课翘了，但是看lab2的时候又困，就弄了一个冥想番茄。然后去上虚拟现实理论与算法课，主要是听作业怎么写。

然后就去吃饭，吃饭又是没吃下。

晚上睡觉多盖一层杯子，不要穿短袖睡衣，这几天一直流鼻涕，吃饭都不能好好吃。

然后回来做了一下航概小程序。然后就想做蓝桥杯。

迟迟不想做人机交互作业。但最后还是要做的。

现在中午已经是回宿舍必然不可能睡觉了。所以真的别回宿舍了。然后要按时休息，不要铃响了还不休息。

真的是越来越不尊重番茄工作法了。这是绝对不可以的。正是有番茄工作法我才获得解放。

什么蓝桥杯不获奖，操作系统比不完，短时间找不到实习，实践与展示挂了那都是小问题。

番茄工作法出问题才是大问题。番茄工作法不出问题一切都是小问题。

今天主要是写了操作系统lab2。彻底搞清楚了物理内存管理的东西。

最开始的C代码的虚拟地址空间是0x80000000以上。

有一个freemem记录用了的地址，freemem以下是用了的，freemem以上是没用的。

0x80000000直接映射到物理地址底端，而且不经过cache和tlb，所以是可以直接用的。

所以我们可以用这一块内存进行我们的物理内存管理。

使用pages数组记录所有的物理页，数组的单元是一个Page结构体，包括一个链表结构体和一个计数器，记录该物理地址的引用数。引用数为0说明该页空闲。

既然要把物理内存分成页，那就有页大小PAGE_SIZE和总页数npage。

pages[i]对应物理地址i*PAGE_SIZE。

链表结构体的le_next指向下一个Page结构体，le_prev指向上一个结构体的le_next的地址。

链表结构体的主要作用就是为了组织空闲链表。

空闲链表有一个特殊的表头结构体，该结构体只包含一个成员，就是指向链表第一个元素的指针。如果该指针为null，说明没有空闲块。